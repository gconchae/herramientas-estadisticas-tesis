<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herramientas Estad√≠sticas - Tesis Doctoral</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #27ae60;
            --warning-color: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            padding: 30px 0;
            text-align: center;
            border-radius: 0 0 15px 15px;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.5;
        }
        
        .search-container {
            margin: 20px 0;
            position: relative;
        }
        
        #toolSearch {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        #toolSearch:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
        }
        
        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #7f8c8d;
        }
        
        .phases-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .phase-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 6px solid var(--secondary-color);
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .phase-card:hover {
            transform: translateY(-7px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }
        
        .phase-card.parametrico {
            border-left-color: var(--success-color);
        }
        
        .phase-card.no-parametrico {
            border-left-color: var(--warning-color);
        }
        
        .phase-card h3 {
            color: var(--primary-color);
            margin-bottom: 18px;
            font-size: 1.4rem;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .tools-list {
            list-style-type: none;
            flex-grow: 1;
        }
        
        .tools-list li {
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            transition: all 0.2s ease;
            border-radius: 6px;
            padding-left: 10px;
            cursor: pointer;
            position: relative;
        }
        
        .tools-list li:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }
        
        .tools-list li:active {
            transform: scale(0.98);
        }
        
        .tools-list li:last-child {
            border-bottom: none;
        }
        
        .tool-badge {
            display: inline-block;
            background-color: var(--light-color);
            color: var(--dark-color);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-right: 12px;
            font-weight: 600;
            min-width: 70px;
            text-align: center;
        }
        
        .tool-badge.parametrico {
            background-color: #d5f4e6;
            color: #1e7b4f;
        }
        
        .tool-badge.no-parametrico {
            background-color: #fdebd0;
            color: #b06c0f;
        }
        
        .tool-badge.post-hoc {
            background-color: #e8daef;
            color: #6c3483;
        }
        
        .tool-badge.efecto {
            background-color: #d6eaf8;
            color: #21618c;
        }
        
        .tool-badge.escala {
            background-color: #f4ecf7;
            color: #8e44ad;
            border: 1px solid #d7bde2;
        }
        
        /* Estilos del Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }
        
        .modal-content {
            background-color: white;
            margin: 40px auto;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: modalAppear 0.3s ease-out;
            overflow: hidden;
        }
        
        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            padding: 25px 30px;
            position: relative;
        }
        
        .modal-header h2 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .modal-definition {
            font-style: italic;
            opacity: 0.9;
            margin-top: 8px;
            font-size: 1rem;
            line-height: 1.5;
        }
        
        .modal-tool-code {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: inline-block;
            margin-top: 8px;
            margin-right: 10px;
        }
        
        .modal-scale {
            background-color: rgba(255, 255, 255, 0.3);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: inline-block;
            margin-top: 8px;
            border: 1px dashed rgba(255, 255, 255, 0.5);
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 2rem;
            cursor: pointer;
            color: white;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .close-modal:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .modal-body {
            padding: 30px;
        }
        
        .info-section {
            margin-bottom: 30px;
        }
        
        .info-section:last-child {
            margin-bottom: 0;
        }
        
        .info-section h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.3rem;
            padding-bottom: 8px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .info-section p {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        
        .highlight {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--success-color);
            margin: 20px 0;
        }
        
        .stats-values {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .stat-value {
            background: linear-gradient(135deg, var(--secondary-color), #2980b9);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .application-context {
            background-color: #e8f4fc;
            border-left: 4px solid var(--secondary-color);
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        
        .interpretation-guide {
            background-color: #fef9e7;
            border-left: 4px solid var(--warning-color);
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        
        .scale-info {
            background-color: #f4ecf7;
            border-left: 4px solid #8e44ad;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        
        .methodological-note {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            font-style: italic;
        }
        
        .scale-badge {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            margin-left: 8px;
            font-weight: 500;
        }
        
        .scale-badge::before {
            content: "üìä";
            margin-right: 4px;
        }

        .methodology-path {
            background-color: #f8f9fa;
            border-left: 4px solid var(--accent-color);
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0 15px;
        }
        .methodology-path h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        .methodology-path p, .methodology-path ol, .methodology-path ul {
            margin-bottom: 10px;
        }
        .methodology-path ol, .methodology-path ul {
            padding-left: 20px;
        }
        .methodology-path li {
            margin-bottom: 8px;
        }

        .modal-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .nav-btn {
            padding: 10px 20px;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover:not(:disabled) {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }
        
        .modal-loading {
            display: none;
            text-align: center;
            padding: 40px;
            color: var(--secondary-color);
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
            display: none;
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        .formula-container {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-left: 4px solid var(--secondary-color);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }

        .formula {
            font-family: 'Cambria Math', 'Times New Roman', serif;
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .formula-variables {
            text-align: left;
            font-size: 0.95rem;
            color: #555;
            line-height: 1.6;
            max-width: 300px;
            margin: 0 auto;
        }

        .variable {
            font-family: 'Courier New', monospace;
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        @media (max-width: 768px) {
            .phases-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .modal-content {
                width: 95%;
                margin: 20px auto;
            }
            
            .modal-header {
                padding: 20px;
            }
            
            .modal-body {
                padding: 20px;
            }
            
            .stats-values {
                flex-direction: column;
            }
            
            .scale-badge {
                font-size: 0.7rem;
                padding: 3px 8px;
            }
            
            .modal-navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Herramientas y Procedimientos Estad√≠sticos</h1>
            <p class="subtitle">Haz clic en cualquier recuadro para obtener una explicaci√≥n detallada de cada herramienta y su aplicaci√≥n en nuestro estudio.</p>
        </div>
    </header>
    
    <div class="container">
        <main>
            <h2 id="phases-heading" class="sr-only">Fases del An√°lisis Estad√≠stico</h2>
            
            <div class="search-container">
                <input type="text" id="toolSearch" placeholder="Buscar herramientas estad√≠sticas...">
                <span class="search-icon">üîç</span>
            </div>
            
            <div class="no-results" id="noResults">
                <h3>No se encontraron herramientas</h3>
                <p>Intenta con otros t√©rminos de b√∫squeda</p>
            </div>
            
            <div class="phases-container" id="phasesContainer">
                <!-- Las tarjetas de fases se generar√°n din√°micamente con JavaScript -->
            </div>
        </main>
    </div>

    <!-- Modal para mostrar detalles de herramientas -->
    <div class="modal" id="toolModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalToolTitle">T√≠tulo de la herramienta</h2>
                <div id="modalToolDefinition" class="modal-definition"></div>
                <div id="modalHeaderBadges"></div>
                <button class="close-modal" id="closeModal" aria-label="Cerrar ventana">&times;</button>
            </div>
            <div class="modal-body" id="modalToolBody">
                <!-- El contenido del modal se cargar√° aqu√≠ -->
            </div>
        </div>
    </div>

    <div class="modal-loading" id="modalLoading">
        <p>Cargando informaci√≥n...</p>
    </div>

    <script>
        // Contenido espec√≠fico del estudio con escalas y conexiones actualizadas
        const studyContent = {
            'descriptives': {
                definition: 'Medidas que resumen y caracterizan las propiedades principales de un conjunto de datos, incluyendo tendencia central, dispersi√≥n y forma distribucional.',
                hasScale: false,
                content: {
                    aplicacion: 'Calculamos medias, medianas, desviaciones est√°ndar, rangos intercuart√≠licos, asimetr√≠a y curtosis para todos los puntajes de la ECA por grupo y momento de medici√≥n. Por ejemplo, encontramos que el grupo experimental inici√≥ con M=5.500 en cognitiva, M=24.21 en afectiva y M=19.76 en conductual en el pretest.',
                    consideraciones: 'Reportamos tanto medias (para comparabilidad con literatura) como medianas (m√°s apropiadas para datos ordinales). La inspecci√≥n de asimetr√≠a y curtosis nos alert√≥ sobre posibles violaciones de normalidad que luego confirmamos con pruebas formales de Shapiro-Wilk.',
                    interpretacion: 'Los estad√≠sticos descriptivos nos permitieron caracterizar la l√≠nea base de conciencia ecol√≥gica (conocimiento bajo-moderado, actitudes altas, pr√°cticas moderadas) y contextualizar los cambios post-intervenci√≥n en t√©rminos de puntos de partida diferenciales entre grupos.'
                }
            },
            'normality': {
                definition: 'Las pruebas de normalidad eval√∫an si una distribuci√≥n de datos se ajusta a una distribuci√≥n normal gaussiana, determinando la adecuaci√≥n de pruebas estad√≠sticas param√©tricas.',
                hasScale: false,
                scale: 'Valor p: <0.05 (no normal) | ‚â•0.05 (normal)',
                content: {
                    aplicacion: 'Aplicamos la prueba de Shapiro-Wilk a los puntajes de las tres dimensiones de la ECA, desagregados por grupo y momento de medici√≥n. Encontramos que la mayor√≠a de distribuciones mostraban p<.05, indicando desviaciones significativas de la normalidad, especialmente en las dimensiones cognitiva y afectiva.',
                    consideraciones: 'Optamos por Shapiro-Wilk sobre Kolmogorov-Smirnov debido a su mayor potencia estad√≠stica con muestras menores a 50 participantes, como era el caso de nuestro grupo control (n=26). Este an√°lisis justific√≥ el uso de pruebas no param√©tricas en nuestros an√°lisis inferenciales.',
                    interpretacion: 'Interpretamos p<.05 como evidencia de no-normalidad. Este hallazgo fue metodol√≥gicamente crucial, ya que determin√≥ nuestra elecci√≥n de pruebas no param√©tricas (Mann-Whitney, Wilcoxon, Kruskal-Wallis) para todos los an√°lisis comparativos en nuestra investigaci√≥n.'
                }
            },
            'internal-consistency': {
                definition: 'El coeficiente Alfa de Cronbach eval√∫a la consistencia interna de los √≠tems que componen una escala o subescala, indicando en qu√© medida miden un mismo constructo latente.',
                hasScale: true,
                scale: 'Œ± ‚â• 0.70 (aceptable) | 0.80-0.89 (bueno) | ‚â•0.90 (excelente) | <0.70 (inaceptable)',
                content: {
                    aplicacion: 'Calculamos el Alfa de Cronbach para cada dimensi√≥n de la ECA en el pretest. Encontramos valores dispares: Œ±=.626 (afectiva), Œ±=.720 (conductual), pero solo Œ±=.387 en la subescala cognitiva, lo que nos alert√≥ sobre problemas de fiabilidad en esta dimensi√≥n espec√≠fica.',
                    consideraciones: 'Verificamos que los √≠tems midieran constructos unidimensionales. La baja consistencia en cognitiva (Œ±=.387) nos llev√≥ a recomendar en el an√°lisis psicom√©trico (secci√≥n 4.5.2) revisar la redacci√≥n y adaptaci√≥n cultural de estos √≠tems para futuras aplicaciones, considerando incluso el uso del coeficiente KR-20.',
                    interpretacion: 'Interpretamos que valores por debajo de .70 indican inconsistencia problem√°tica. Por esto, los resultados de la dimensi√≥n cognitiva se consideraron no concluyentes en nuestra investigaci√≥n, a pesar de mostrar diferencias estad√≠sticamente significativas en los an√°lisis inferenciales.',
                    complementaria: 'El coeficiente Omega de McDonald es una medida de fiabilidad de consistencia interna que supera algunas limitaciones del Alfa de Cronbach. Calculamos el Omega junto con el Alfa, encontrando valores muy similares: œâ=.629 (afectiva) vs Œ±=.626, y œâ=.727 (conductual) vs Œ±=.720, lo que confirm√≥ la robustez de nuestras mediciones en estas dimensiones.'
                }
            },
            'content-validity': {
                definition: 'La validez de contenido eval√∫a el grado en que los √≠tems de un instrumento representan adecuadamente el dominio conceptual completo del constructo que se pretende medir.',
                hasScale: true,
                scale: 'S-CVI/Ave ‚â• 0.90 (excelente) | ‚â• 0.80 (muy bueno) | ‚â• 0.70 (aceptable)',
                content: {
                    aplicacion: 'Evaluamos la validez de contenido de la ECA mediante juicio de expertos en educaci√≥n ambiental y psicometr√≠a. Calculamos el √çndice de Validez de Contenido (I-CVI) para cada √≠tem y el S-CVI promedio, obteniendo un valor general de S-CVI/Ave = .883, que indica una representatividad excelente del constructo.',
                    consideraciones: 'Utilizamos un panel de 3 expertos que evaluaron cada √≠tem en t√©rminos de relevancia, claridad y representatividad del constructo. Este proceso nos permiti√≥ refinar la redacci√≥n de √≠tems ambiguos antes de la aplicaci√≥n piloto.',
                    interpretacion: 'El alto valor de S-CVI/Ave (.883) nos dio confianza en que la ECA mide efectivamente los dominios conceptuales de la conciencia ecol√≥gica seg√∫n nuestra definici√≥n te√≥rica, fortaleciendo as√≠ las inferencias derivadas de nuestros an√°lisis.'
                }
            },
            'factor-analysis': {
                definition: 'El An√°lisis Factorial Confirmatorio (AFC) es una t√©cnica estad√≠stica que prueba si la estructura factorial preconcebida de un instrumento se ajusta adecuadamente a los datos observados.',
                hasScale: true,
                scale: 'CFI/TLI >0.90 (aceptable) >0.95 (excelente) | RMSEA <0.08 (aceptable) <0.05 (excelente)',
                content: {
                    aplicacion: 'Realizamos AFC para verificar la estructura trifactorial de la ECA (cognitiva, afectiva, conductual) utilizando software especializado. Los √≠ndices de ajuste obtenidos (CFI > 0.90, RMSEA < 0.08) respaldaron la validez estructural del instrumento en nuestro contexto.',
                    consideraciones: 'Optamos por AFC sobre An√°lisis Factorial Exploratorio porque ten√≠amos una estructura te√≥rica preconcebida basada en la literatura. Utilizamos estimadores robustos apropiados para datos ordinales.',
                    interpretacion: 'El adecuado ajuste del AFC confirm√≥ que las tres dimensiones de la ECA representan constructos distintos pero relacionados, validando nuestra aproximaci√≥n multidimensional a la conciencia ecol√≥gica y justificando el an√°lisis por dimensiones separadas.'
                }
            },
            'mann-whitney': {
                definition: 'La prueba U de Mann-Whitney es la alternativa no param√©trica a la t-test para muestras independientes, utilizada cuando no se cumplen los supuestos de normalidad o homocedasticidad.',
                hasScale: false,
                content: {
                    aplicacion: 'La aplicamos para comparar los puntajes postest entre grupo experimental (n=63) y grupo control (n=26) en las tres dimensiones de la ECA. En la dimensi√≥n afectiva obtuvimos U=339.5, p<.0001, confirmando diferencias significativas a favor del grupo que recibi√≥ la intervenci√≥n curricular.',
                    consideraciones: 'Optamos por esta prueba tras confirmar no-normalidad mediante Shapiro-Wilk (p<.05 en cognitiva y afectiva). La naturaleza ordinal de los datos y la falta de homocedasticidad justificaron esta elecci√≥n metodol√≥gica en nuestro dise√±o cuasiexperimental.',
                    interpretacion: 'Interpretamos que valores p<.05 indican diferencias estad√≠sticamente significativas entre grupos. Complementamos esta interpretaci√≥n con el tama√±o del efecto r=0.59 en afectiva, que evidenci√≥ un impacto grande de la intervenci√≥n m√°s all√° de la significancia estad√≠stica.',
                    conexiones: `
                        <div class="methodology-path">
                            <h4>Nuestra Ruta de An√°lisis</h4>
                            <p>Para comparar los grupos (Experimental vs. Control), seguimos esta secuencia l√≥gica:</p>
                            <ol>
                                <li>
                                    <strong>Verificaci√≥n de Supuestos:</strong> Primero, evaluamos si los datos segu√≠an una distribuci√≥n normal usando la 
                                    <a href="#" onclick="event.preventDefault(); openToolModal('normality')">Prueba de Normalidad (Shapiro-Wilk)</a>.
                                </li>
                                <li>
                                    <strong>Decisi√≥n Clave:</strong> Al encontrar que los datos no eran normales, optamos por esta prueba no param√©trica.
                                </li>
                                <li>
                                    <strong>An√°lisis de Impacto:</strong> Tras encontrar una diferencia significativa, medimos su magnitud con el 
                                    <a href="#" onclick="event.preventDefault(); openToolModal('rosenthal')">r de Rosenthal</a> y la alternativa robusta 
                                    <a href="#" onclick="event.preventDefault(); openToolModal('cliff')">Delta de Cliff</a>.
                                </li>
                            </ol>
                        </div>
                    `
                }
            },
            'wilcoxon': {
                definition: 'La prueba de rangos con signo de Wilcoxon es la alternativa no param√©trica a la t-test para muestras relacionadas, utilizada para comparar mediciones pretest-postest dentro de un mismo grupo.',
                hasScale: false,
                content: {
                    aplicacion: 'Aplicamos el test de Wilcoxon para evaluar los cambios intra-grupo en el grupo experimental. En la dimensi√≥n cognitiva encontramos W=41.00, p<.001, indicando una mejora muy significativa tras la intervenci√≥n, aunque interpretamos este resultado con cautela por la baja fiabilidad de la subescala.',
                    consideraciones: 'Utilizamos esta prueba porque nuestros datos no cumpl√≠an el supuesto de normalidad requerido para pruebas param√©tricas. Calculamos el tama√±o del efecto asociado mediante r = |Z|/‚àöN para contextualizar la significancia estad√≠stica.',
                    interpretacion: 'Interpretamos las diferencias pretest-postest como evidencia del impacto de la intervenci√≥n. El tama√±o del efecto r=0.82 en cognitiva sugiri√≥ un cambio sustancial, aunque la baja fiabilidad (Œ±=.387) nos oblig√≥ a ser conservadores en las conclusiones sobre aprendizaje conceptual.',
                    conexiones: `
                        <div class="methodology-path">
                            <h4>Nuestra Ruta de An√°lisis</h4>
                            <p>Para evaluar el cambio <em>dentro</em> del Grupo Experimental (Pretest vs. Postest), seguimos esta secuencia:</p>
                            <ol>
                                <li>
                                    <strong>Verificaci√≥n de Supuestos:</strong> Comprobamos la normalidad de los datos con la 
                                    <a href="#" onclick="event.preventDefault(); openToolModal('normality')">Prueba de Shapiro-Wilk</a>.
                                </li>
                                <li>
                                    <strong>Decisi√≥n Clave:</strong> Al no cumplirse el supuesto, se seleccion√≥ esta prueba no param√©trica para muestras relacionadas.
                                </li>
                                <li>
                                    <strong>An√°lisis de Impacto:</strong> Medimos la magnitud del cambio observado con el 
                                    <a href="#" onclick="event.preventDefault(); openToolModal('rosenthal')">r de Rosenthal</a>.
                                </li>
                            </ol>
                        </div>
                    `
                }
            },
            'kruskal-wallis': {
                definition: 'La prueba H de Kruskal-Wallis es la alternativa no param√©trica al ANOVA de un factor, utilizada para comparar tres o m√°s grupos independientes cuando no se cumplen supuestos de normalidad.',
                hasScale: false,
                content: {
                    aplicacion: 'Aplicamos Kruskal-Wallis para evaluar diferencias entre los tres cursos participantes (8¬∞ Uno, 8¬∞ Dos y 8¬∞ Tres). No encontramos diferencias significativas en ninguna dimensi√≥n (p>.36 en todos los casos), lo que sugiri√≥ homogeneidad en la respuesta a la intervenci√≥n entre cursos.',
                    consideraciones: 'Utilizamos esta prueba para verificar que el efecto de la intervenci√≥n fue homog√©neo a trav√©s de los diferentes subgrupos que conformaban nuestra muestra, fortaleciendo as√≠ la validez interna de nuestros hallazgos principales.',
                    interpretacion: 'La ausencia de diferencias significativas entre cursos (p>.36) nos permiti√≥ concluir que la intervenci√≥n tuvo un efecto consistente en cada uno de los diferentes grupos participantes, lo que fortalece la generalizaci√≥n interna de nuestros resultados.',
                    conexiones: `
                        <div class="methodology-path">
                            <h4>Nuestra Ruta de An√°lisis</h4>
                            <p>Para comparar si exist√≠an diferencias en la conciencia ecol√≥gica entre los tres cursos participantes (Octavo Uno, Octavo Dos y Octavo Tres), seguimos esta secuencia:</p>
                            <ol>
                                <li>
                                    <strong>Verificaci√≥n de Supuestos:</strong> Comprobamos la normalidad de los datos con la 
                                    <a href="#" onclick="event.preventDefault(); openToolModal('normality')">Prueba de Shapiro-Wilk</a>.
                                </li>
                                <li>
                                    <strong>Decisi√≥n Clave:</strong> Al no cumplirse el supuesto de normalidad, se seleccion√≥ esta prueba, que es la alternativa no param√©trica ideal para comparar tres o m√°s grupos independientes.
                                </li>
                                <li>
                                    <strong>Siguiente Paso (Condicional):</strong> Si hubi√©ramos encontrado diferencias significativas entre los cursos, habr√≠amos necesitado la 
                                    <a href="#" onclick="event.preventDefault(); openToolModal('dunn')">Prueba de Dunn</a> para identificar exactamente qu√© grupos difer√≠an entre s√≠.
                                </li>
                                <li>
                                    <strong>An√°lisis de Impacto:</strong> La magnitud del efecto para esta prueba se mide con el 
                                    <a href="#" onclick="event.preventDefault(); openToolModal('eta-squared')">√âpsilon Cuadrado (Œµ¬≤)</a>.
                                </li>
                            </ol>
                        </div>
                    `
                }
            },
            'dunn': {
                definition: 'La prueba de Dunn es un procedimiento post-hoc utilizado despu√©s de un Kruskal-Wallis significativo para identificar qu√© pares de grupos difieren espec√≠ficamente, controlando las comparaciones m√∫ltiples.',
                hasScale: false,
                content: {
                    aplicacion: 'Aplicamos la prueba de Dunn como an√°lisis post-hoc tras el Kruskal-Wallis, aunque en nuestro caso no fue necesaria su aplicaci√≥n exhaustiva ya que el Kruskal-Wallis no mostr√≥ diferencias significativas entre los tres cursos (8¬∞ Uno, 8¬∞ Dos y 8¬∞ Tres) en ninguna dimensi√≥n (p > .36 en todos los casos).',
                    consideraciones: 'Ten√≠amos preparado el procedimiento de Dunn como parte de nuestro plan anal√≠tico para el escenario donde Kruskal-Wallis resultara significativo. Utilizamos la correcci√≥n de Bonferroni para ajustar los valores p en las comparaciones por pares, que es el enfoque est√°ndar en esta prueba.',
                    interpretacion: 'Dado que nuestro Kruskal-Wallis no fue significativo, no procedimos con las comparaciones post-hoc de Dunn. Esto reforz√≥ nuestra conclusi√≥n de que la intervenci√≥n tuvo efectos homog√©neos en todos los diferentes cursos participantes, lo cual es un hallazgo positivo para la validez interna del estudio.',
                    conexiones: `
                        <div class="methodology-path">
                            <h4>Nuestra Ruta de An√°lisis</h4>
                            <p>Esta prueba funciona como un an√°lisis complementario y solo se aplica bajo una condici√≥n espec√≠fica:</p>
                            <ol>
                                <li>
                                    <strong>Prueba Previa:</strong> Primero, se debe ejecutar una 
                                    <a href="#" onclick="event.preventDefault(); openToolModal('kruskal-wallis')">Prueba de Kruskal-Wallis</a> para comparar tres o m√°s grupos, como Octavo Uno, Octavo Dos y Octavo Tres.
                                </li>
                                <li>
                                    <strong>Condici√≥n de Uso:</strong> La Prueba de Dunn solo se utiliza si el resultado de Kruskal-Wallis es <strong>estad√≠sticamente significativo</strong> (generalmente, p < .05).
                                </li>
                                <li>
                                    <strong>Nuestra Decisi√≥n:</strong> En nuestro estudio, la prueba de Kruskal-Wallis no encontr√≥ diferencias significativas entre los cursos. Por lo tanto, <strong>no fue necesario aplicar la Prueba de Dunn</strong>, pero se documenta como parte del plan anal√≠tico riguroso.
                                </li>
                            </ol>
                        </div>
                    `
                }
            },
            'rosenthal': {
                definition: 'El r de Rosenthal es una medida del tama√±o del efecto utilizada como complemento a pruebas no param√©tricas como Mann-Whitney y Wilcoxon, representando la magnitud estandarizada de las diferencias encontradas.',
                hasScale: true,
                scale: 'r ‚âà 0.10 (efecto peque√±o) | ‚âà 0.30 (efecto moderado) | ‚â• 0.50 (efecto grande)',
                content: {
                    aplicacion: 'Calculamos el r de Rosenthal para todas las comparaciones significativas mediante la f√≥rmula r = Z/‚àöN. En la dimensi√≥n afectiva obtuvimos r=0.59 (comparaci√≥n intergrupo), mientras que en la dimensi√≥n conductual el valor fue r=0.27. Estos c√°lculos nos permitieron evaluar la relevancia pr√°ctica m√°s all√° de la significancia estad√≠stica.',
                    consideraciones: 'Optamos por reportar sistem√°ticamente el r de Rosenthal junto con los valores p, siguiendo las recomendaciones contempor√°neas de reporting en investigaci√≥n educativa. Utilizamos los puntos de corte de Cohen (1988) para la interpretaci√≥n estandarizada.',
                    interpretacion: 'En nuestro estudio, interpretamos que r=0.59 en la dimensi√≥n afectiva representaba un efecto grande, confirmando el impacto sustancial de la intervenci√≥n en las actitudes ambientales. Por otro lado, r=0.27 en la dimensi√≥n conductual indicaba un efecto peque√±o-moderado, lo que coincidi√≥ con la persistencia de la brecha actitud-conducta que documentamos en nuestras conclusiones.',
                    conexiones: `
                        <div class="methodology-path">
                            <h4>Nuestra Ruta de An√°lisis</h4>
                            <p>El 'r de Rosenthal' no es una prueba principal, sino un indicador que nos dice <strong>qu√© tan grande e importante</strong> es un efecto. Lo usamos para complementar los resultados de:</p>
                            <ul>
                                <li>La <a href="#" onclick="event.preventDefault(); openToolModal('mann-whitney')">Prueba U de Mann-Whitney</a> (para comparar dos grupos independientes).</li>
                                <li>La <a href="#" onclick="event.preventDefault(); openToolModal('wilcoxon')">Prueba de Wilcoxon</a> (para medir el cambio dentro de un grupo).</li>
                            </ul>
                            <p>Esto nos permite ir m√°s all√° del "s√≠ o no" de la significancia estad√≠stica y entender la relevancia pr√°ctica de nuestros hallazgos.</p>
                        </div>
                    `
                }
            },
            'cliff': {
                definition: 'El delta de Cliff (Œ¥) es una medida robusta del tama√±o del efecto para comparaciones entre dos grupos independientes, que estima la probabilidad de que una observaci√≥n aleatoria de un grupo sea mayor que una observaci√≥n del otro grupo.',
                hasScale: true,
                scale: '|Œ¥| > 0.147 (efecto peque√±o) | > 0.33 (efecto medio) | > 0.47 (efecto grande)',
                content: {
                    aplicacion: `Calculamos el delta de Cliff como alternativa planificada al r de Rosenthal para las comparaciones Mann-Whitney. La f√≥rmula conceptual es:

                    <div class="formula-container">
                        <div class="formula">Œ¥ = P(X > Y) - P(Y > X)</div>
                        <div class="formula-variables">
                            donde:<br>
                            <span class="variable">P(X > Y)</span> = probabilidad de que un valor del grupo X sea mayor que uno del grupo Y<br>
                            <span class="variable">P(Y > X)</span> = probabilidad de que un valor del grupo Y sea mayor que uno del grupo X
                        </div>
                    </div>

                    Aunque no se reportan valores num√©ricos en los resultados principales, su c√°lculo form√≥ parte del protocolo anal√≠tico descrito en la secci√≥n 3.9.4, y los hallazgos con r de Rosenthal fueron coherentes con lo que se esperar√≠a de Œ¥.`,
                    consideraciones: 'Utilizamos Œ¥ porque es menos sensible a outliers y violaciones de supuestos que otras medidas de tama√±o del efecto. Su interpretaci√≥n en t√©rminos de probabilidad (P(X > Y) - P(Y > X)) resulta intuitiva para audiencias no t√©cnicas.',
                    interpretacion: 'Aunque no se presentan valores espec√≠ficos de Œ¥ en los resultados finales, su uso fue considerado como una opci√≥n robusta complementaria. La interpretaci√≥n de los efectos se bas√≥ principalmente en el r de Rosenthal, respaldado por intervalos de confianza bootstrap, en coherencia con el enfoque de transparencia y rigor metodol√≥gico del estudio.'
                }
            },
            'eta-squared': {
                definition: 'El Eta cuadrado (Œ∑¬≤) es una medida del tama√±o del efecto utilizada en ANOVA y su alternativa no param√©trica Kruskal-Wallis, indicando la proporci√≥n de varianza total explicada por las diferencias entre grupos.',
                hasScale: true,
                scale: 'Œµ¬≤ ‚â• 0.01 (efecto peque√±o) | ‚â• 0.06 (efecto moderado) | ‚â• 0.14 (efecto grande)',
                content: {
                    aplicacion: 'Calculamos Œµ¬≤ (√©psilon cuadrado) como versi√≥n menos sesgada del eta cuadrado para el Kruskal-Wallis. Encontramos valores de Œµ¬≤=0.127 (cognitiva), Œµ¬≤=0.216 (afectiva) y Œµ¬≤=0.046 (conductual), que confirmaron los patrones observados con el r de Rosenthal.',
                    consideraciones: `Una f√≥rmula com√∫nmente usada para calcular Œ∑¬≤ en Kruskal-Wallis es:

                    <div class="formula-container">
                        <div class="formula">Œ∑¬≤ = (H - k + 1) / (n - k)</div>
                        <div class="formula-variables">
                            donde:<br>
                            <span class="variable">H</span> = estad√≠stico de Kruskal-Wallis<br>
                            <span class="variable">k</span> = n√∫mero de grupos<br>
                            <span class="variable">n</span> = tama√±o total de la muestra
                        </div>
                    </div>

                    Œ∑¬≤ var√≠a entre 0 y 1, donde valores cercanos a 0 indican un tama√±o de efecto peque√±o y valores cercanos a 1 un tama√±o de efecto grande.
                    
                    Optamos por Œµ¬≤ sobre Œ∑¬≤ por su menor sesgo en muestras peque√±as. Seguimos los puntos de corte de Cohen (1988) donde Œµ¬≤‚â•0.14 indica efecto grande, ‚â•0.06 efecto moderado, y ‚â•0.01 efecto peque√±o.`,
                    interpretacion: 'Œµ¬≤=0.216 en afectiva confirm√≥ un efecto grande coherente con r=0.59, mientras Œµ¬≤=0.046 en conductual reflej√≥ el efecto peque√±o-moderado ya identificado, proporcionando evidencia convergente sobre la magnitud del impacto de la intervenci√≥n.',
                    conexiones: `
                        <div class="methodology-path">
                            <h4>Nuestra Ruta de An√°lisis</h4>
                            <p>El '√âpsilon Cuadrado' (una versi√≥n mejorada del Eta Cuadrado) es la medida de tama√±o del efecto espec√≠fica que utilizamos para cuantificar la magnitud de las diferencias encontradas con la:</p>
                            <ul>
                                <li><a href="#" onclick="event.preventDefault(); openToolModal('kruskal-wallis')">Prueba de Kruskal-Wallis</a>.</li>
                            </ul>
                            <p>Nos indica qu√© proporci√≥n de la variabilidad en los puntajes se puede explicar por la pertenencia a uno de los diferentes cursos analizados.</p>
                        </div>
                    `
                }
            }
        };

        // Datos de las fases y herramientas
        const phasesData = [
            {
                id: 'fase1',
                title: 'FASE 1: AN√ÅLISIS DESCRIPTIVO Y SUPUESTOS',
                type: 'parametrico',
                tools: [
                    { 
                        name: 'Estad√≠sticos Descriptivos', 
                        code: 'Media - Mediana - DE - RIQ',
                        contentKey: 'descriptives',
                        badgeType: 'parametrico'
                    },
                    { 
                        name: 'Prueba de Normalidad', 
                        code: 'Shapiro-Wilk',
                        contentKey: 'normality',
                        badgeType: 'parametrico'
                    }
                ]
            },
            {
                id: 'fase2',
                title: 'FASE 2: VALIDACI√ìN DEL INSTRUMENTO',
                type: 'parametrico',
                tools: [
                    { 
                        name: 'Consistencia Interna del Instrumento', 
                        code: 'Coeficiente Omega',
                        contentKey: 'internal-consistency',
                        badgeType: 'parametrico'
                    },
                    { 
                        name: 'An√°lisis Factorial Confirmatorio (AFC)', 
                        code: 'Verificaci√≥n de Estructura',
                        contentKey: 'factor-analysis',
                        badgeType: 'parametrico'
                    },
                    { 
                        name: 'Validez de Contenido por Juicio de Expertos', 
                        code: '√çndice I-CVI',
                        contentKey: 'content-validity',
                        badgeType: 'parametrico'
                    }
                ]
            },
            {
                id: 'analisis-no-parametrico',
                title: 'AN√ÅLISIS NO PARAM√âTRICO',
                type: 'no-parametrico',
                tools: [
                    { 
                        name: 'Comparaci√≥n de Dos Grupos Independientes', 
                        code: 'Prueba U de Mann-Whitney',
                        contentKey: 'mann-whitney',
                        badgeType: 'no-parametrico'
                    },
                    { 
                        name: 'Comparaci√≥n de Mediciones Repetidas', 
                        code: 'Prueba de Wilcoxon',
                        contentKey: 'wilcoxon',
                        badgeType: 'no-parametrico'
                    },
                    { 
                        name: 'Comparaci√≥n de Tres o M√°s Grupos', 
                        code: 'Prueba de Kruskal-Wallis',
                        contentKey: 'kruskal-wallis',
                        badgeType: 'no-parametrico'
                    },
                    { 
                        name: 'Comparaciones M√∫ltiples Post-Hoc', 
                        code: 'Prueba de Dunn',
                        contentKey: 'dunn',
                        badgeType: 'post-hoc'
                    },
                    { 
                        name: 'Tama√±o del Efecto para Dos Grupos', 
                        code: 'r de Rosenthal',
                        contentKey: 'rosenthal',
                        badgeType: 'efecto'
                    },
                    { 
                        name: 'Tama√±o del Efecto Robustos', 
                        code: 'Delta de Cliff',
                        contentKey: 'cliff',
                        badgeType: 'efecto'
                    },
                    { 
                        name: 'Tama√±o del Efecto para M√∫ltiples Grupos', 
                        code: '√âpsilon Cuadrado (Œµ¬≤)',
                        contentKey: 'eta-squared',
                        badgeType: 'efecto'
                    }
                ]
            }
        ];

        // Variables globales
        let currentToolIndex = 0;
        let allTools = [];
        let filteredTools = [];

        // Elementos DOM
        const phasesContainer = document.getElementById('phasesContainer');
        const toolModal = document.getElementById('toolModal');
        const modalToolTitle = document.getElementById('modalToolTitle');
        const modalToolDefinition = document.getElementById('modalToolDefinition');
        const modalHeaderBadges = document.getElementById('modalHeaderBadges');
        const modalToolBody = document.getElementById('modalToolBody');
        const closeModal = document.getElementById('closeModal');
        const toolSearch = document.getElementById('toolSearch');
        const noResults = document.getElementById('noResults');
        const modalLoading = document.getElementById('modalLoading');

        // Generar las tarjetas de fases
        function renderPhaseCards() {
            phasesContainer.innerHTML = '';
            
            phasesData.forEach(phase => {
                const card = document.createElement('div');
                card.className = `phase-card ${phase.type}`;
                
                let toolsHTML = '';
                phase.tools.forEach(tool => {
                    const badgeClass = tool.badgeType || phase.type;
                    const hasScale = studyContent[tool.contentKey].hasScale;
                    const scaleBadge = hasScale ? '<span class="scale-badge">Escala</span>' : '';
                    
                    toolsHTML += `
                        <li onclick="openToolModal('${tool.contentKey}')" data-searchable="${tool.name.toLowerCase()} ${tool.code.toLowerCase()}">
                            <span class="tool-badge ${badgeClass}">${tool.code}</span>
                            ${tool.name}
                            ${scaleBadge}
                        </li>
                    `;
                });
                
                card.innerHTML = `
                    <h3>${phase.title}</h3>
                    <ul class="tools-list">
                        ${toolsHTML}
                    </ul>
                `;
                
                phasesContainer.appendChild(card);
            });
            
            // Preparar lista de todas las herramientas para navegaci√≥n
            allTools = phasesData.flatMap(phase => phase.tools);
            filteredTools = [...allTools];
        }

        // Abrir modal con informaci√≥n de la herramienta
        function openToolModal(contentKey) {
            // Mostrar indicador de carga
            modalLoading.style.display = 'block';
            toolModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // Simular carga as√≠ncrona para mejor UX
            setTimeout(() => {
                const tool = studyContent[contentKey];
                const phaseTool = allTools.find(t => t.contentKey === contentKey);
                
                // Actualizar el modal con la informaci√≥n
                modalToolTitle.textContent = phaseTool.name;
                modalToolDefinition.textContent = tool.definition;
                
                // Actualizar √≠ndice actual para navegaci√≥n
                currentToolIndex = filteredTools.findIndex(t => t.contentKey === contentKey);
                
                // Construir badges del header
                let headerBadgesHTML = '';
                if (phaseTool.code) {
                    headerBadgesHTML += `<span class="modal-tool-code">${phaseTool.code}</span>`;
                }
                if (tool.scale) {
                    headerBadgesHTML += `<span class="modal-scale">${tool.scale}</span>`;
                }
                modalHeaderBadges.innerHTML = headerBadgesHTML;
                
                // Construir el contenido del modal
                let modalContent = '';
                
                if (tool.scale) {
                    modalContent += `
                        <div class="info-section">
                            <h3>Escala de Interpretaci√≥n</h3>
                            <div class="scale-info">
                                <p><strong>${tool.scale}</strong></p>
                            </div>
                        </div>
                    `;
                }
                
                if (tool.content.aplicacion) {
                    modalContent += `
                        <div class="info-section">
                            <h3>Aplicaci√≥n en nuestro estudio</h3>
                            <div class="application-context">
                                <p>${tool.content.aplicacion}</p>
                            </div>
                        </div>
                    `;
                }
                
                if (tool.content.consideraciones) {
                    modalContent += `
                        <div class="info-section">
                            <h3>Consideraciones metodol√≥gicas</h3>
                            <p>${tool.content.consideraciones}</p>
                        </div>
                    `;
                }
                
                if (tool.content.complementaria) {
                    modalContent += `
                        <div class="info-section">
                            <h3>Medida Complementaria</h3>
                            <div class="methodological-note">
                                <p>${tool.content.complementaria}</p>
                            </div>
                        </div>
                    `;
                }
                
                if (tool.content.interpretacion) {
                    modalContent += `
                        <div class="info-section">
                            <h3>Interpretaci√≥n de nuestros resultados</h3>
                            <div class="interpretation-guide">
                                <p>${tool.content.interpretacion}</p>
                            </div>
                        </div>
                    `;
                }
                
                // --- INICIO DE LA MODIFICACI√ìN ---
                // A√±adir la secci√≥n de conexiones metodol√≥gicas si existe
                if (tool.content.conexiones) {
                    modalContent += tool.content.conexiones;
                }
                // --- FIN DE LA MODIFICACI√ìN ---

                // Agregar navegaci√≥n entre herramientas
                modalContent += `
                    <div class="modal-navigation">
                        <button id="prevTool" class="nav-btn" ${currentToolIndex <= 0 ? 'disabled' : ''}>‚Üê Anterior</button>
                        <button id="nextTool" class="nav-btn" ${currentToolIndex >= filteredTools.length - 1 ? 'disabled' : ''}>Siguiente ‚Üí</button>
                    </div>
                `;
                
                modalToolBody.innerHTML = modalContent;
                
                // Agregar event listeners para navegaci√≥n
                document.getElementById('prevTool').addEventListener('click', navigateToPrevTool);
                document.getElementById('nextTool').addEventListener('click', navigateToNextTool);
                
                // Ocultar indicador de carga
                modalLoading.style.display = 'none';
                
                // Enfocar el bot√≥n de cerrar para mejor accesibilidad
                closeModal.focus();
            }, 300);
        }

        // Navegaci√≥n entre herramientas
        function navigateToPrevTool() {
            if (currentToolIndex > 0) {
                openToolModal(filteredTools[currentToolIndex - 1].contentKey);
            }
        }

        function navigateToNextTool() {
            if (currentToolIndex < filteredTools.length - 1) {
                openToolModal(filteredTools[currentToolIndex + 1].contentKey);
            }
        }

        // Cerrar modal
        function closeToolModal() {
            toolModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Funci√≥n de b√∫squeda
        function filterTools(searchTerm) {
            const allToolElements = document.querySelectorAll('.tools-list li');
            let hasResults = false;
            
            allToolElements.forEach(tool => {
                const toolText = tool.getAttribute('data-searchable');
                if (toolText.includes(searchTerm.toLowerCase())) {
                    tool.style.display = 'flex';
                    hasResults = true;
                } else {
                    tool.style.display = 'none';
                }
            });
            
            // Actualizar filteredTools para navegaci√≥n
            filteredTools = allTools.filter(tool => {
                const searchableText = `${tool.name.toLowerCase()} ${tool.code.toLowerCase()}`;
                return searchableText.includes(searchTerm.toLowerCase());
            });
            
            // Mostrar/ocultar mensaje de no resultados
            if (hasResults || searchTerm === '') {
                noResults.style.display = 'none';
                phasesContainer.style.display = 'grid';
            } else {
                noResults.style.display = 'block';
                phasesContainer.style.display = 'none';
            }
        }

        // Navegaci√≥n por teclado mejorada
        function initKeyboardNavigation() {
            document.addEventListener('keydown', function(event) {
                // Cerrar modal con Escape
                if (event.key === 'Escape' && toolModal.style.display === 'block') {
                    closeToolModal();
                }
                
                // Navegaci√≥n con teclas en modal
                if (toolModal.style.display === 'block') {
                    if (event.key === 'ArrowLeft') {
                        navigateToPrevTool();
                    } else if (event.key === 'ArrowRight') {
                        navigateToNextTool();
                    }
                    
                    // Mantener foco dentro del modal
                    if (event.key === 'Tab') {
                        const focusableElements = toolModal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                        if (focusableElements.length === 0) return;
                        
                        const firstElement = focusableElements[0];
                        const lastElement = focusableElements[focusableElements.length - 1];
                        
                        if (event.shiftKey && document.activeElement === firstElement) {
                            lastElement.focus();
                            event.preventDefault();
                        } else if (!event.shiftKey && document.activeElement === lastElement) {
                            firstElement.focus();
                            event.preventDefault();
                        }
                    }
                }
            });
        }

        // Pre-cargar contenido (simulaci√≥n)
        function preloadModalContent() {
            console.log('Contenido de modales listo para cargar');
            // En una implementaci√≥n real, aqu√≠ podr√≠as cargar contenido adicional
        }

        // Event listeners
        closeModal.addEventListener('click', closeToolModal);
        
        // Cerrar modal al hacer clic fuera del contenido
        toolModal.addEventListener('click', function(event) {
            if (event.target === toolModal) {
                closeToolModal();
            }
        });
        
        // B√∫squeda en tiempo real
        toolSearch.addEventListener('input', function(event) {
            filterTools(event.target.value);
        });
        
        // Hacer la funci√≥n global para que funcione en los onclick
        window.openToolModal = openToolModal;

        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            renderPhaseCards();
            initKeyboardNavigation();
            preloadModalContent();
        });
    </script>
</body>
</html>